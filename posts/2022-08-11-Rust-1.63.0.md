---
layout: post
title: "Announcing Rust 1.63.0"
author: The Rust Release Team
release: true
---

The Rust team is happy to announce a new version of Rust, 1.63.0. Rust is a programming language
empowering everyone to build reliable and efficient software.

If you have a previous version of Rust installed via rustup, you can get 1.63.0 with:

```console
rustup update stable
```

If you don't have it already, you can [get `rustup`][install]
from the appropriate page on our website, and check out the
[detailed release notes for 1.63.0][notes] on GitHub.

If you'd like to help us out by testing future releases, you might consider updating locally to use
the beta channel (`rustup default beta`) or the nightly channel (`rustup default nightly`).
Please [report] any bugs you might come across!

[install]: https://www.rust-lang.org/install.html
[notes]: https://github.com/rust-lang/rust/blob/master/RELEASES.md#version-1620-2022-06-30
[report]: https://github.com/rust-lang/rust/issues/new/choose

## What's in 1.63.0 stable

### Rust ownership for raw file descriptors/handles (I/O Safety)

Previously, Rust code working with platform APIs taking raw file descriptors (on
unix-style platforms) or handles (on Windows) would typically work directly with
a platform-specific representation of the descriptor (for example, a `c_int`).
For Rust bindings to such native APIs, the type system then failed to encode
whether the API would take ownership of the file descriptor (e.g., `close`) or
merely borrow it (e.g., `dup`).

Now, Rust provides wrapper types such as [`BorrowedFd`], which are marked as
`#[repr(transparent)]`, meaning that `extern "C"` bindings can directly take
these types to encode the ownership semantics. See the stabilized APIs section
for the full list of wrapper types stabilized in 1.63, currently, they are
available on cfg(unix) platforms, Windows, and WASI.

We recommend that new APIs use these types instead of the previous type aliases
(like [`RawFd`]).

[`RawFd`]: https://doc.rust-lang.org/stable/std/os/unix/io/type.RawFd.html
[`BorrowedFd`]: https://doc.rust-lang.org/stable/std/os/unix/io/struct.BorrowedFd.html

### Turbofish for generics in functions with `impl Trait`

The turbofish notation (`foo::<u32>()`) can be used to specify the types for explicit type
parameters (`fn foo<T: Copy>`) even when `impl Trait` is used in the argument types.
Specifying the type of an `impl Trait` argument via turbofish is still not possible.

### Non-lexical lifetimes migration complete

As detailed in [this blog post], we've fully removed the previous lexical borrow checker
from rustc across all editions, fully enabling the non-lexical, new, version of the borrow
checker. Since the borrow checker doesn't affect the output of rustc, this won't change
the behavior of any programs, but it completes a long-running migration (started in the
initial stabilization of NLL for the 2018 edition) to deliver the full benefits of the new
borrow checker across all editions of Rust. For most users, this change will bring
slightly better diagnostics for some borrow checking errors, but will not otherwise impact
which code they can write.

You can read more about non-lexical lifetimes in [this section of the 2018 edition announcement][nll].

[this blog post]: https://github.com/rust-lang/blog.rust-lang.org/pull/989
[nll]: https://blog.rust-lang.org/2018/12/06/Rust-1.31-and-rust-2018.html#non-lexical-lifetimes

### Stabilized APIs

The following methods and trait implementations are now stabilized:

- [`array::from_fn`]
- [`Box::into_pin`]
- [`BinaryHeap::try_reserve_exact`]
- [`BinaryHeap::try_reserve`]
- [`OsString::try_reserve`]
- [`OsString::try_reserve_exact`]
- [`PathBuf::try_reserve`]
- [`PathBuf::try_reserve_exact`]
- [`Path::try_exists`]
- [`Ref::filter_map`]
- [`RefMut::filter_map`]
- [`NonNull::<[T]>::len`]
- [`ToOwned::clone_into`]
- [`Ipv6Addr::to_ipv4_mapped`]
- [`unix::io::AsFd`]
- [`unix::io::BorrowedFd<'fd>`]
- [`unix::io::OwnedFd`]
- [`windows::io::AsHandle`]
- [`windows::io::BorrowedHandle<'handle>`]
- [`windows::io::OwnedHandle`]
- [`windows::io::HandleOrInvalid`]
- [`windows::io::HandleOrNull`]
- [`windows::io::InvalidHandleError`]
- [`windows::io::NullHandleError`]
- [`windows::io::AsSocket`]
- [`windows::io::BorrowedSocket<'handle>`]
- [`windows::io::OwnedSocket`]
- [`thread::scope`]
- [`thread::Scope`]
- [`thread::ScopedJoinHandle`]

These APIs are now usable in const contexts:

- [`array::from_ref`]
- [`slice::from_ref`]
- [`intrinsics::copy`]
- [`intrinsics::copy_nonoverlapping`]
- [`<*const T>::copy_to`]
- [`<*const T>::copy_to_nonoverlapping`]
- [`<*mut T>::copy_to`]
- [`<*mut T>::copy_to_nonoverlapping`]
- [`<*mut T>::copy_from`]
- [`<*mut T>::copy_from_nonoverlapping`]
- [`str::from_utf8`]
- [`Utf8Error::error_len`]
- [`Utf8Error::valid_up_to`]
- [`Condvar::new`]
- [`Mutex::new`]
- [`RwLock::new`]

(Links for stabilized APIs are a todo, waiting on release notes to have them.)

### Other changes

There are other changes in the Rust 1.63.0 release. Check out what changed in
[Rust](https://github.com/rust-lang/rust/blob/stable/RELEASES.md#version-1630-2022-08-11),
[Cargo](https://github.com/rust-lang/cargo/blob/master/CHANGELOG.md#cargo-163-2022-08-11),
and [Clippy](https://github.com/rust-lang/rust-clippy/blob/master/CHANGELOG.md#rust-163).

### Contributors to 1.63.0

Many people came together to create Rust 1.63.0.
We couldn't have done it without all of you.
[Thanks!](https://thanks.rust-lang.org/rust/1.63.0/)

